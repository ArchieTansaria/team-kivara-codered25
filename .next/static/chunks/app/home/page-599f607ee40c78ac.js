(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{74051:(e,s,r)=>{Promise.resolve().then(r.bind(r,67222))},67222:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>I});var t=r(95155),a=r(12115),l=r(77010),n=r(43415);let i=n.z.object({question:n.z.string(),options:n.z.array(n.z.string()).length(4).describe("Four possible answers to the question. Only one should be correct. They should all be of equal lengths."),answer:n.z.enum(["A","B","C","D"]).describe("The correct answer, where A is the first option, B is the second, and so on.")}),o=n.z.array(i).length(10);var c=r(30814),d=r(77163),x=r(33473),m=r(14505),u=r(12317),h=r(31027),f=r(43463),p=r(69795);let g=(0,h.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground border border-secondary shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),j=a.forwardRef((e,s)=>{let{className:r,variant:a="default",size:l="default",asChild:n=!1,...i}=e,o=n?u.DX:"button";return(0,t.jsx)(o,{className:function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,p.QP)((0,f.$)(...s))}(g({variant:a,size:l,className:r})),ref:s,...i})});j.displayName="Button";let v=()=>(0,t.jsxs)("nav",{className:"fixed top-0 left-0 w-full z-50 bg-black text-white px-10 py-6 flex justify-between items-center border-b border-gray-800",children:[(0,t.jsxs)("ul",{className:"flex space-x-6 text-xs font-[poppins] pl-24",children:[(0,t.jsx)("li",{className:"hover:text-gray-400 cursor-pointer",children:"About"}),(0,t.jsx)("li",{className:"hover:text-gray-400 cursor-pointer",children:"Technologies"}),(0,t.jsx)("li",{className:"hover:text-gray-400 cursor-pointer",children:"Products"}),(0,t.jsx)("li",{className:"hover:text-gray-400 cursor-pointer",children:"Discover"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"text-black rounded-full w-6 h-6 flex items-center justify-center"}),(0,t.jsx)("span",{className:"text-2xl font-[manrope]",children:"PrepMate AI"})]}),(0,t.jsxs)("div",{className:"flex space-x-6 items-center text-xs font-[poppins] pr-24",children:[(0,t.jsx)("span",{className:"hover:text-gray-400 cursor-pointer",children:"Team"}),(0,t.jsx)("span",{className:"hover:text-gray-400 cursor-pointer",children:"Pricing"}),(0,t.jsx)("span",{className:"hover:text-gray-400 cursor-pointer",children:"Buy Premium"}),(0,t.jsx)("button",{className:"bg-white text-black font-[poppins] font-medium text-sm px-4 py-2 rounded-full hover:shadow-md hover:shadow-lg hover:scale-105 transition",children:"Get Started"})]})]});function N(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,p.QP)((0,f.$)(...s))}let b=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:N("rounded-xl border bg-card text-card-foreground shadow",r),...a})});b.displayName="Card";let y=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:N("flex flex-col space-y-1.5 p-6",r),...a})});y.displayName="CardHeader";let w=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:N("font-semibold leading-none tracking-tight",r),...a})});w.displayName="CardTitle";let z=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:N("text-sm text-muted-foreground",r),...a})});z.displayName="CardDescription";let A=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:N("p-6 pt-0",r),...a})});A.displayName="CardContent";let k=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:N("flex items-center p-6 pt-0",r),...a})});k.displayName="CardFooter";var D=r(16838);let P=a.forwardRef((e,s)=>{let{className:r,value:a,...l}=e;return(0,t.jsx)(D.bL,{ref:s,className:N("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",r),...l,children:(0,t.jsx)(D.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});P.displayName=D.bL.displayName;var C=r(25683),S=r(89229),R=r(98867),F=r(40767),T=r(93518),q=r(46967),Q=r(21773),E=r(14081);function _(e){let{correctAnswers:s,totalQuestions:r}=e,a=s/r*100,l=Math.round(a);return(0,t.jsx)(b,{className:"w-full",children:(0,t.jsxs)(A,{className:"space-y-4 p-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("p",{className:"text-4xl font-bold",children:[l,"%"]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[s," out of ",r," correct"]})]}),(0,t.jsx)("p",{className:"text-center font-medium",children:100===a?"Perfect score! Congratulations!":a>=80?"Great job! You did excellently!":a>=60?"Good effort! You're on the right track.":a>=40?"Not bad, but there's room for improvement.":"Keep practicing, you'll get better!"})]})})}var L=r(63691);a.forwardRef((e,s)=>{let{className:r,children:a,...l}=e;return(0,t.jsxs)(L.bL,{ref:s,className:N("relative overflow-hidden",r),...l,children:[(0,t.jsx)(L.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,t.jsx)(M,{}),(0,t.jsx)(L.OK,{})]})}).displayName=L.bL.displayName;let M=a.forwardRef((e,s)=>{let{className:r,orientation:a="vertical",...l}=e;return(0,t.jsx)(L.VM,{ref:s,orientation:a,className:N("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...l,children:(0,t.jsx)(L.lr,{className:"relative flex-1 rounded-full bg-border"})})});M.displayName=L.VM.displayName;var B=r(10142);function G(e){let{questions:s,userAnswers:r}=e,a=["A","B","C","D"];alert("hiiis");let l=new B.uE,n="Questions\n";s.forEach((e,s)=>{n+="".concat(s+1,". ").concat(e.question,"\n"),e.options.forEach((e,s)=>{n+="    ".concat(String.fromCharCode(97+s),". ").concat(e,"\n")}),n+="\n"});let i=l.internal.pageSize.height-10,o=l.splitTextToSize(n,l.internal.pageSize.width-20),c=10;return o.forEach(e=>{c+10>i&&(l.addPage(),c=10),l.text(e,10,c),c+=10}),l.save("sample.pdf"),(0,t.jsxs)(b,{className:"w-full",children:[(0,t.jsx)(y,{children:(0,t.jsx)(w,{className:"text-2xl font-bold",children:"Quiz Review"})}),(0,t.jsx)(A,{children:s.map((e,s)=>(0,t.jsxs)("div",{className:"mb-8 last:mb-0",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:e.question}),(0,t.jsx)("div",{className:"space-y-2",children:e.options.map((l,n)=>{let i=a[n],o=i===e.answer,c=i===r[s]&&!o;return(0,t.jsxs)("div",{className:"flex items-center p-4 rounded-lg ".concat(o?"bg-green-100 dark:bg-green-700/50":c?"bg-red-100 dark:bg-red-700/50":"border border-border"),children:[(0,t.jsx)("span",{className:"text-lg font-medium mr-4 w-6",children:i}),(0,t.jsx)("span",{className:"flex-grow",children:l}),o&&(0,t.jsx)(R.A,{className:"ml-2 text-green-600 dark:text-green-400",size:20}),c&&(0,t.jsx)(F.A,{className:"ml-2 text-red-600 dark:text-red-400",size:20})]},n)})})]},s))})]})}let O=e=>{let{question:s,selectedAnswer:r,onSelectAnswer:a,showCorrectAnswer:l}=e,n=["A","B","C","D"];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold leading-tight",children:s.question}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:s.options.map((e,i)=>(0,t.jsxs)(j,{variant:r===n[i]?"secondary":"outline",className:"h-auto py-6 px-4 justify-start text-left whitespace-normal ".concat(l&&n[i]===s.answer?"bg-green-600 hover:bg-green-700":l&&r===n[i]&&r!==s.answer?"bg-red-600 hover:bg-red-700":""),onClick:()=>a(n[i]),children:[(0,t.jsx)("span",{className:"text-lg font-medium mr-4 shrink-0",children:n[i]}),(0,t.jsx)("span",{className:"flex-grow",children:e}),l&&n[i]===s.answer||r===n[i]&&(0,t.jsx)(R.A,{className:"ml-2 shrink-0 text-white",size:20}),l&&r===n[i]&&r!==s.answer&&(0,t.jsx)(F.A,{className:"ml-2 shrink-0 text-white",size:20})]},i))})]})};function V(e){let{questions:s,clearPDF:r,title:l="Quiz"}=e,[n,i]=(0,a.useState)(0),[o,c]=(0,a.useState)(Array(s.length).fill(null)),[d,x]=(0,a.useState)(!1),[m,u]=(0,a.useState)(null),[h,f]=(0,a.useState)(0);(0,a.useEffect)(()=>{let e=setTimeout(()=>{f(n/s.length*100)},100);return()=>clearTimeout(e)},[n,s.length]);let p=()=>{x(!0),u(s.reduce((e,s,r)=>e+(s.answer===o[r]?1:0),0))},g=s[n];return(0,t.jsx)("div",{className:"min-h-screen bg-background text-foreground",children:(0,t.jsxs)("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center text-foreground",children:l}),(0,t.jsxs)("div",{className:"relative",children:[!d&&(0,t.jsx)(P,{value:h,className:"h-1 mb-8"}),(0,t.jsx)("div",{className:"min-h-[400px]",children:(0,t.jsx)(C.N,{mode:"wait",children:(0,t.jsx)(S.P.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},transition:{duration:.3},children:d?(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(_,{correctAnswers:null!=m?m:0,totalQuestions:s.length}),(0,t.jsx)("div",{className:"space-y-12",children:(0,t.jsx)(G,{questions:s,userAnswers:o})}),(0,t.jsxs)("div",{className:"flex justify-center space-x-4 pt-4",children:[(0,t.jsxs)(j,{onClick:()=>{c(Array(s.length).fill(null)),x(!1),u(null),i(0),f(0)},variant:"outline",className:"bg-muted hover:bg-muted/80 w-full",children:[(0,t.jsx)(Q.A,{className:"mr-2 h-4 w-4"})," Reset Quiz"]}),(0,t.jsxs)(j,{onClick:r,className:"bg-primary hover:bg-primary/90 w-full",children:[(0,t.jsx)(E.A,{className:"mr-2 h-4 w-4"})," Try Another PDF"]})]})]}):(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(O,{question:g,selectedAnswer:o[n],onSelectAnswer:e=>{if(!d){let s=[...o];s[n]=e,c(s)}},isSubmitted:d,showCorrectAnswer:!1}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-4",children:[(0,t.jsxs)(j,{onClick:()=>{n>0&&i(n-1)},disabled:0===n,variant:"ghost",children:[(0,t.jsx)(T.A,{className:"mr-2 h-4 w-4"})," Previous"]}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[n+1," / ",s.length]}),(0,t.jsxs)(j,{onClick:()=>{n<s.length-1?i(n+1):p()},disabled:null===o[n],variant:"ghost",children:[n===s.length-1?"Submit":"Next"," ",(0,t.jsx)(q.A,{className:"ml-2 h-4 w-4"})]})]})]})},d?"results":n)})})]})]})})}r(48173);var U=r(75828);let $=(0,U.createServerReference)("7fe4c0417148f2eed3bf76e26bf8c9e20fea11006d",U.callServer,void 0,U.findSourceMapURL,"generateQuizTitle");function I(){let[e,s]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[i,u]=(0,a.useState)(!1),[h,f]=(0,a.useState)(""),{submit:p,object:g,isLoading:N}=(0,l.o$)({api:"/api/generate-quiz",schema:o,initialValue:void 0,onError:e=>{c.o.error("Failed to generate quiz. Please try again."),s([])},onFinish:e=>{let{object:s}=e;n(null!=s?s:[])}}),D=e=>{if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&i){c.o.error("Safari does not support drag & drop. Please use the file picker.");return}let r=Array.from(e.target.files||[]),t=r.filter(e=>"application/pdf"===e.type&&e.size<=0xa00000);console.log(t),t.length!==r.length&&c.o.error("Only PDF files under 10MB are allowed."),s(t)},R=e=>new Promise((s,r)=>{let t=new FileReader;t.readAsDataURL(e),t.onload=()=>s(t.result),t.onerror=e=>r(e)}),F=async s=>{s.preventDefault();let r=await Promise.all(e.map(async e=>({name:e.name,type:e.type,data:await R(e)})));p({files:r}),f(await $(r[0].name))},T=g?g.length/10*100:0;return 10===r.length?(0,t.jsx)(V,{title:null!=h?h:"Quiz",questions:r,clearPDF:()=>{s([]),n([])}}):(0,t.jsxs)("div",{children:[(0,t.jsx)(v,{}),(0,t.jsxs)("div",{className:" min-h-[100dvh] w-full pt-36 flex justify-center",onDragOver:e=>{e.preventDefault(),u(!0)},onDragExit:()=>u(!1),onDragEnd:()=>u(!1),onDragLeave:()=>u(!1),onDrop:e=>{e.preventDefault(),u(!1),console.log(e.dataTransfer.files),D({target:{files:e.dataTransfer.files}})},children:[(0,t.jsx)(C.N,{children:i&&(0,t.jsxs)(S.P.div,{className:"fixed pointer-events-none dark:bg-zinc-900/90 h-dvh w-dvw z-10 justify-center items-center flex flex-col gap-1 bg-zinc-100/90",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,t.jsx)("div",{children:"Drag and drop files here"}),(0,t.jsx)("div",{className:"text-sm dark:text-zinc-400 text-zinc-500",children:"(PDFs only)"})]})}),(0,t.jsxs)(b,{className:"w-full max-w-md h-full border-0 sm:border sm:h-fit mt-12",children:[(0,t.jsxs)(y,{className:"text-center space-y-6",children:[(0,t.jsxs)("div",{className:"mx-auto flex items-center justify-center space-x-2 text-muted-foreground",children:[(0,t.jsx)("div",{className:"rounded-full bg-primary/10 p-2",children:(0,t.jsx)(d.A,{className:"h-6 w-6"})}),(0,t.jsx)(x.A,{className:"h-4 w-4"}),(0,t.jsx)("div",{className:"rounded-full bg-primary/10 p-2",children:(0,t.jsx)(m.A,{className:"h-6 w-6"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(w,{className:"text-2xl font-bold",children:"Convert PDF To Quiz"}),(0,t.jsx)(z,{className:"text-base",children:"Upload a PDF to transform it into an engaging interactive quiz, powered by advanced AI capabilities."})]})]}),(0,t.jsx)(A,{children:(0,t.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative flex flex-col items-center justify-center border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 transition-colors hover:border-muted-foreground/50",children:[(0,t.jsx)("input",{type:"file",onChange:D,accept:"application/pdf",className:"absolute inset-0 opacity-0 cursor-pointer"}),(0,t.jsx)(d.A,{className:"h-8 w-8 mb-2 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:e.length>0?(0,t.jsx)("span",{className:"font-medium text-foreground",children:e[0].name}):(0,t.jsx)("span",{children:"Drop your PDF here or click to browse."})})]}),(0,t.jsx)(j,{type:"submit",className:"w-full",disabled:0===e.length,children:N?(0,t.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{children:"Generating Quiz..."})]}):"Generate Quiz"})]})}),N&&(0,t.jsxs)(k,{className:"flex flex-col space-y-4",children:[(0,t.jsxs)("div",{className:"w-full space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,t.jsx)("span",{children:"Progress"}),(0,t.jsxs)("span",{children:[Math.round(T),"%"]})]}),(0,t.jsx)(P,{value:T,className:"h-2"})]}),(0,t.jsx)("div",{className:"w-full space-y-2",children:(0,t.jsxs)("div",{className:"grid grid-cols-6 sm:grid-cols-4 items-center space-x-2 text-sm",children:[(0,t.jsx)("div",{className:"h-2 w-2 rounded-full ".concat(N?"bg-yellow-500/50 animate-pulse":"bg-muted")}),(0,t.jsx)("span",{className:"text-muted-foreground text-center col-span-4 sm:col-span-2",children:g?"Generating question ".concat(g.length+1," of 4"):"Analyzing PDF content"})]})})]})]})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[930,814,345,441,517,358],()=>s(74051)),_N_E=e.O()}]);